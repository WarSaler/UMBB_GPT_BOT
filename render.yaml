services:
  - type: web
    name: umbb-gpt-bot
    env: python
    plan: free
    buildCommand: |
      echo "üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:"
      pip install -r requirements.txt
      echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤:"
      pip list | grep -E "(telegram|fastapi|uvicorn|loguru|python-dotenv)"
      echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤:"
      python3 -c "import telegram; print('‚úÖ Telegram –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω')"
      python3 -c "import fastapi; print('‚úÖ FastAPI –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω')"
      python3 -c "import uvicorn; print('‚úÖ Uvicorn –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω')"
      echo "üéâ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"
    startCommand: python3 bot.py
    envVars:
      - key: PYTHON_VERSION
        value: "3.11"
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: OPENAI_API_KEY
        sync: false
      - key: PORT
        value: "10000"